<style type="text/css">
img.grayscale {
    filter: url("data:image/svg+xml;utf8,&lt;svg xmlns=\'http://www.w3.org/2000/svg\'&gt;&lt;filter id=\'grayscale\'&gt;&lt;feColorMatrix type=\'matrix\' values=\'0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\'/&gt;&lt;/filter&gt;&lt;/svg&gt;#grayscale"); /* Firefox 10+, Firefox on Android */
    filter: gray; /* IE6-9 */
    -webkit-filter: grayscale(100%); /* Chrome 19+, Safari 6+, Safari 6+ iOS */
}

</style>

<md-toolbar>
    <div layout='row' layout-align='start center'>
        <div flex='10' layout='row'>
            <md-button class='md-icon-button' aria-label='Open Side Menu' ng-click='openSidenav()'>
                <md-icon class='material-icons' ng-style="{color: 'white'}">menu</md-icon>
            </md-button>
            <md-button class='md-icon-button' aria-label='Open Posts List' ng-click='openListPosts()'>
                <md-icon class='material-icons' ng-style="styleOfViewListButton">view_list</md-icon>
            </md-button>
        </div>
        <div flex='30' layout='row' layout-align='end center'>
             <div style='position:relative;width:48px;height:48px;'>
                <div style='position:absolute;top:0px;left:0px;'>
                    <md-fab-speed-dial md-direction="down" class="md-fling">
                        <md-fab-trigger>
                            <md-button class='md-fab md-mini'>
                                <md-icon class='material-icons' ng-style="{color: 'white'}">{{tools[selectedTool].fontIcon}}</md-icon>
                            </md-button>
                        </md-fab-trigger>
                        <md-fab-actions>
                            <md-button ng-repeat='(name, tool) in tools' class='md-fab md-mini' ng-click="selectTool(name)">
                                <md-icon class='material-icons' ng-style="{color: 'white'}">{{tool.fontIcon}}</md-icon>
                            </md-button>
                        </md-fab-actions>
                    </md-fab-speed-dial>
                </div>
            </div>
            <div flex layout-padding ng-show='selectedTool == "search"'>
                <md-chips ng-model="keywords">
                    <input placeholder='搜尋標題' style='font-size:20px;color:white;' />
                </md-chips>
            </div>
            <div flex layout='row' layout-padding ng-show='selectedTool == "address"'>
                <md-input-container flex md-no-float>
                    <input placeholder='輸入地址' style='color:white;' ng-model='userAddress' ng-keypress="$event.keyCode == 13 && onEnterAddress(userAddress)"/>
                </md-input-container>
                <md-button class='md-icon-button' aria-label='Next location' ng-click='nextGeocodeLocation()' ng-show='isMultipleGeocodeLocations'>
                    <md-icon class='material-icons' ng-style="{color: 'white'}">swap_horiz</md-icon>
                </md-button>
            </div>
            <div flex layout='row' layout-align='start center' ng-show='selectedTool == "markers"'>
                <md-button ng-repeat='(name, icon) in iconCtrls' ng-if='$index < 5' class='md-icon-button' aria-label="Marker Icon" ng-click="toggleIcon(name)">
                    <img ng-src='{{icon.url}}' ng-class='{grayscale: icon.show==false}' width='100%' height='100%'/>
                </md-button>
                <md-menu ng-show="iconCount > 5">
                    <md-button class='md-icon-button' aria-label='More Icons' ng-click='openIconMenu($mdOpenMenu, $event)'>
                        <md-icon md-menu-origin class='material-icons' ng-style="{color: 'white'}">more_vert</md-icon>
                    </md-button>
                    <md-menu-content width='1'>
                        <md-menu-item ng-repeat='(name, icon) in iconCtrls' ng-if='$index >= 5'>
                            <md-button class='md-icon-button' aria-label="Marker Icon" ng-click="toggleIcon(name)">
                                <img ng-src='{{icon.url}}' ng-class='{grayscale: icon.show==false}' width='100%' height='100%'/>
                            </md-button>
                        </md-menu-item>
                    </md-menu-content>
                </md-menu>
            </div>
            <div flex layout='row' layout-padding ng-show='selectedTool == "period"'>
                <input type='date' ng-model="create_time.startDate" />
                <div layout-margin class='md-display-1' style='color:white;'> ~ </div>
                <input type='date' ng-model="create_time.endDate" />
            </div>
        </div>
        <div flex='30' layout='row' layout-align='start center'>
            <div layout-margin>
                <img alt="{{serverTitle}}" ng-src="{{serverLogo}}" class="md-avatar" ng-style="{'max-width':'48px', 'max-height':'48px'}" ng-hide='serverLogo == ""' />
            </div>
            <h1 class='md-headline'>{{serverTitle}}</h1>
        </div>
        <div flex layout='row' layout-padding layout-align='end center'>
            <ng-include src='"views/statusinfo.html"'></ng-include>
        </div>
    </div>
</md-toolbar>
